import e from"react";function r(){return(r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}var n="idle",t="loading",u="error",i="success",o=0,c=function(){return o++},a={},s="undefined"==typeof window,f=function(){},l=console||{error:f,warn:f,log:f};function d(e){l=e}function h(r){var n=e.useRef();return n.current=r,e.useCallback((function(){return n.current}),[])}function v(e,r){return"function"==typeof e?e(r):e}function y(e,r){return g(r)?Object.assign.apply(Object,[{}].concat(Object.keys(r).sort().map((function(e){var n;return(n={})[e]=r[e],n})))):r}function p(e){return JSON.stringify(e,y)}function g(e){return e&&"object"==typeof e&&!Array.isArray(e)}function m(e,r){return e===r||typeof e==typeof r&&("object"==typeof e&&!Object.keys(r).some((function(n){return!m(e[n],r[n])})))}function q(){return"undefined"==typeof document||void 0===document.visibilityState||"visible"===document.visibilityState||"prerender"===document.visibilityState}function b(e){if(g(e[0])){if(e[0].hasOwnProperty("queryKey")&&e[0].hasOwnProperty("queryFn")){var r=e[0],n=r.queryKey,t=r.queryFn,u=r.config;return[n,t,void 0===u?{}:u].concat(e.slice(1))}throw new Error("queryKey and queryFn keys are required.")}var i=e[0],o=e[1],c=e[2],a=void 0===c?{}:c,s=e.slice(3);return[i,o,a].concat(s)}function w(r){var n=e.useRef(!1);return e[s?"useEffect":"useLayoutEffect"]((function(){return n.current=!0,function(){return n.current=!1}}),[]),e.useCallback((function(){return n.current?r.apply(void 0,arguments):void 0}),[r])}function S(e){if(e.query.config.suspense||e.query.config.useErrorBoundary){if("error"===e.query.state.status&&e.query.state.throwInErrorBoundary)throw e.error;if(e.query.config.suspense&&"success"!==e.status)throw e.query.wasSuspended=!0,e.query.fetch()}}var E=e.createContext(),F={shared:{suspense:!1,queryKeySerializerFn:function(e){e||P();Array.isArray(e)||(e=[e]);e.some((function(e){return"function"==typeof e}))&&P();var r=p(e);e=JSON.parse(r),r||P();return[r,e]}},queries:{enabled:!0,retry:3,retryDelay:function(e){return Math.min(1e3*Math.pow(2,e),3e4)},staleTime:0,cacheTime:3e5,refetchOnWindowFocus:!0,refetchInterval:!1,queryFnParamsFilter:function(e){return e},refetchOnMount:!0,isDataEqual:function e(r,n){if(r===n)return!0;if(r&&n&&"object"==typeof r&&"object"==typeof n){var t,u,i;if(Array.isArray(r)){if((t=r.length)!=n.length)return!1;for(u=t;0!=u--;)if(!e(r[u],n[u]))return!1;return!0}if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===n.valueOf();if((t=(i=Object.keys(r)).length)!==Object.keys(n).length)return!1;for(u=t;0!=u--;)if(!Object.prototype.hasOwnProperty.call(n,i[u]))return!1;for(u=t;0!=u--;){var o=i[u];if(!e(r[o],n[o]))return!1}return!0}return r!=r&&n!=n},onError:f,onSuccess:f,onSettled:f,useErrorBoundary:!1},mutations:{throwOnError:!1,onMutate:f,onError:f,onSuccess:f,onSettled:f,useErrorBoundary:!1}},O={current:F};function C(){return e.useContext(E)||O.current}function I(n){var t=n.config,u=n.children,i=C(),o=e.useMemo((function(){var e=t.shared,n=void 0===e?{}:e,u=t.queries,o=void 0===u?{}:u,c=t.mutations,a=void 0===c?{}:c,s=i.shared,f=void 0===s?{}:s,l=i.queries,d=void 0===l?{}:l,h=i.mutations,v=void 0===h?{}:h;return{shared:r({},f,n),queries:r({},d,o),mutations:r({},v,a)}}),[t,i]);return e.useEffect((function(){return function(){O.current=r({},i||F)}}),[i]),i||(O.current=o),e.createElement(E.Provider,{value:o},u)}function P(){throw new Error("A valid query key is required!")}function M(e,r,n){return n?r?r(e):e:(e&&e.then||(e=Promise.resolve(e)),r?e.then(r):e)}function T(e,r){try{var n=e()}catch(e){return r(e)}return n&&n.then?n.then(void 0,r):n}function j(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(e.apply(this,r))}catch(e){return Promise.reject(e)}}}function k(){}function Q(e,r){if(!r)return e&&e.then?e.then(k):Promise.resolve()}function D(e,r){var n=e();return n&&n.then?n.then(r):r(n)}var A=B(),K=e.createContext(A),x=[A],R=function(){return e.useContext(K)};function L(r){var n=r.queryCache,t=r.children,u=e.useMemo((function(){return n||B()}),[n]);return e.useEffect((function(){return x.push(u),function(){var e=x.indexOf(u);e>-1&&x.splice(e,1),null==n&&u.clear()}}),[u,n]),e.createElement(K.Provider,{value:u},t)}function B(e){var n=void 0===e?{}:e,t=n.frozen,u=void 0===t?s:t,i=n.defaultConfig,o=[],d=i?{current:i}:O,h={queries:{},isFetching:0},y=function(){h.isFetching=Object.values(h.queries).reduce((function(e,r){return r.state.isFetching?e+1:e}),0),o.forEach((function(e){return e(h)}))};return h.subscribe=function(e){return o.push(e),function(){o.splice(o.indexOf(e),1)}},h.clear=function(e){var r=(void 0===e?{}:e).notify,n=void 0===r||r;Object.values(h.queries).forEach((function(e){return e.clear()})),h.queries={},n&&y()},h.getQueries=function(e,r){var n=(void 0===r?{}:r).exact;if(!0===e)return Object.values(h.queries);if("function"!=typeof e){var t=d.current.shared.queryKeySerializerFn(e),u=t[0],i=t[1];e=function(e){return n?e.queryHash===u:m(e.queryKey,i)}}return Object.values(h.queries).filter(e)},h.getQuery=function(e){return h.getQueries(e,{exact:!0})[0]},h.getQueryData=function(e){var r;return null==(r=h.getQuery(e))?void 0:r.state.data},h.removeQueries=function(){h.getQueries.apply(h,arguments).forEach((function(e){return e.clear()}))},h.cancelQueries=function(){h.getQueries.apply(h,arguments).forEach((function(e){return e.cancel()}))},h.invalidateQueries=j((function(e,r){var n=void 0===r?{}:r,t=n.refetchActive,u=void 0===t||t,i=n.exact,o=n.throwOnError;return T((function(){return M(Promise.all(h.getQueries(e,{exact:i}).map((function(e){return u&&e.instances.length?e.fetch():e.invalidate()}))))}),(function(e){if(o)throw e}))})),h.resetErrorBoundaries=function(){h.getQueries(!0).forEach((function(e){e.state.throwInErrorBoundary=!1}))},h.buildQuery=function(e,n,t){void 0===t&&(t={});var i=(t=r({},d.current.shared,d.current.queries,t)).queryKeySerializerFn(e),o=i[0],p=i[1],g=h.queries[o];return g?Object.assign(g,{queryFn:n,config:t}):(g=function(e){var r=e.queryCache,n=e.queryKey,t=e.queryHash,u=e.queryFn,i=e.config,o="function"==typeof i.initialData?i.initialData():i.initialData,d=void 0!==o,h=!i.enabled||!d,p=d?"success":i.enabled?"loading":"idle",g={queryKey:n,queryHash:t,queryFn:u,config:i,instances:[],state:G(void 0,{type:"Init",initialStatus:p,initialData:o,hasInitialData:d,isStale:h})};g.dispatch=function(e){g.state=G(g.state,e),g.instances.forEach((function(e){return e.onStateUpdate(g.state)})),y()},g.scheduleStaleTimeout=function(){s||(clearTimeout(g.staleTimeout),g.config.staleTime!==1/0&&(g.staleTimeout=setTimeout((function(){r.getQuery(g.queryKey)&&g.invalidate()}),g.config.staleTime)))},g.invalidate=function(){clearTimeout(g.staleTimeout),g.dispatch({type:"MarkStale"})},g.scheduleGarbageCollection=function(){g.config.cacheTime!==1/0&&(g.dispatch({type:"MarkGC"}),g.cacheTimeout=setTimeout((function(){r.removeQueries((function(e){return e.state.markedForGarbageCollection&&e.queryHash===g.queryHash}))}),void 0===g.state.data&&"error"!==g.state.status?0:g.config.cacheTime))},g.heal=function(){clearTimeout(g.cacheTimeout),g.cancelled=null},g.cancel=function(){g.cancelled=a,g.cancelPromises&&g.cancelPromises(),delete g.promise},g.clearIntervals=function(){g.instances.forEach((function(e){e.clearInterval()}))},g.setState=function(e){return g.dispatch({type:"SetState",updater:e})},g.setData=function(e){g.dispatch({type:"Success",updater:e}),g.scheduleStaleTimeout()},g.clear=function(){clearTimeout(g.staleTimeout),clearTimeout(g.cacheTimeout),clearTimeout(g.retryTimeout),g.clearIntervals(),g.cancel(),g.dispatch=f,delete r.queries[g.queryHash]},g.subscribe=function(e){void 0===e&&(e=f);var r={id:c(),onStateUpdate:e};return g.instances.push(r),g.heal(),r.clearInterval=function(){clearInterval(r.refetchIntervalId),delete r.refetchIntervalId},r.updateConfig=function(e){var n=r.config;if(r.config=e,!s){if((null==n?void 0:n.refetchInterval)===e.refetchInterval)return;g.clearIntervals();var t=Math.min.apply(Math,g.instances.map((function(e){return e.config.refetchInterval||1/0})));!r.refetchIntervalId&&t>0&&t<1/0&&(r.refetchIntervalId=setInterval((function(){(q()||g.instances.some((function(e){return e.config.refetchIntervalInBackground})))&&g.fetch()}),t))}},r.run=j((function(){return function(e){if(e&&e.then)return e.then(k)}(T((function(){return D((function(){if(g.config.enabled&&!g.wasSuspended&&g.state.isStale&&(g.config.refetchOnMount||1===g.instances.length))return Q(g.fetch())}),(function(){g.wasSuspended=!1}))}),(function(e){l.error(e)})))})),r.unsubscribe=function(){g.instances=g.instances.filter((function(e){return e.id!==r.id})),g.instances.length||(g.clearIntervals(),g.cancel(),s||g.scheduleGarbageCollection())},r};var m=j((function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];return T((function(){var r=e.apply(void 0,g.config.queryFnParamsFilter(n));return g.cancelPromises=function(){return null==r.cancel?void 0:r.cancel()},M(r,(function(e){if(delete g.shouldContinueRetryOnFocus,delete g.cancelPromises,g.cancelled)throw g.cancelled;return e}))}),(function(r){var t=!1;if(delete g.cancelPromises,g.cancelled)throw g.cancelled;return g.dispatch({type:"Failed"}),D((function(){if(!0===g.config.retry||g.state.failureCount<=g.config.retry||"function"==typeof g.config.retry&&g.config.retry(g.state.failureCount,r)){if(!q())return g.shouldContinueRetryOnFocus=!0,t=!0,new Promise(f);delete g.shouldContinueRetryOnFocus;var u=v(g.config.retryDelay,g.state.failureCount);return t=!0,M(new Promise((function(r,t){g.retryTimeout=setTimeout(j((function(){return g.cancelled?t(g.cancelled):T((function(){return M(m.apply(void 0,[e].concat(n)),(function(e){if(g.cancelled)return t(g.cancelled);r(e)}))}),(function(e){if(g.cancelled)return t(g.cancelled);t(e)}))})),u)})))}}),(function(e){if(t)return e;throw r}))}))}));return g.fetch=j((function(e){var r=(void 0===e?{}:e).__queryFn,n=void 0===r?g.queryFn:r;return g.promise||(g.promise=j((function(){g.cancelled=null;var e=[].concat(g.instances);return g.wasSuspended&&e.unshift(g.fallbackInstance),T((function(){return g.dispatch({type:"Fetch"}),M(m.apply(void 0,[n].concat(g.queryKey)),(function(r){return g.setData((function(e){return g.config.isDataEqual(e,r)?e:r})),e.forEach((function(e){return e.config.onSuccess&&e.config.onSuccess(g.state.data)})),e.forEach((function(e){return e.config.onSettled&&e.config.onSettled(g.state.data,null)})),delete g.promise,r}))}),(function(r){if(g.dispatch({type:"Error",cancelled:r===g.cancelled,error:r}),delete g.promise,r!==g.cancelled)throw e.forEach((function(e){return e.config.onError&&e.config.onError(r)})),e.forEach((function(e){return e.config.onSettled&&e.config.onSettled(void 0,r)})),r}))}))()),g.promise})),g}({queryCache:h,queryKey:p,queryHash:o,queryFn:n,config:t}),!s&&g.state.data&&(g.scheduleStaleTimeout(),g.heal(),g.scheduleGarbageCollection()),u||(h.queries[o]=g,s?y():setTimeout((function(){y()})))),g.fallbackInstance={config:{onSuccess:g.config.onSuccess,onError:g.config.onError,onSettled:g.config.onSettled}},g},h.prefetchQuery=j((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var t=b(r),u=t[0],i=t[1],o=t[2],c=t[3],a=(c=void 0===c?{}:c).force,s=c.throwOnError;return T((function(){var e=h.buildQuery(u,i,o);return D((function(){if(a||e.state.isStale)return Q(e.fetch())}),(function(){return e.state.data}))}),(function(e){if(s)throw e}))})),h.setQueryData=function(e,r,n){void 0===n&&(n={});var t=h.getQuery(e);t||(t=h.buildQuery(e,(function(){return new Promise(f)}),n)),t.setData(r)},h}function G(e,n){var t=function(e,n){switch(n.type){case"Init":return{status:n.initialStatus,error:null,isFetching:"loading"===n.initialStatus,canFetchMore:!1,failureCount:0,isStale:n.isStale,markedForGarbageCollection:!1,data:n.initialData,updatedAt:n.hasInitialData?Date.now():0};case"Failed":return r({},e,{failureCount:e.failureCount+1});case"MarkStale":return r({},e,{isStale:!0});case"MarkGC":return r({},e,{markedForGarbageCollection:!0});case"Fetch":return r({},e,{status:void 0!==e.data?"success":"loading",isFetching:!0,failureCount:0});case"Success":return r({},e,{status:"success",data:v(n.updater,e.data),error:null,isStale:!1,isFetching:!1,canFetchMore:n.canFetchMore,updatedAt:Date.now(),failureCount:0});case"Error":return r({},e,{isFetching:!1,isStale:!0},!n.cancelled&&{status:"error",error:n.error,throwInErrorBoundary:!0});case"SetState":return v(n.updater,e);default:throw new Error}}(e,n);return Object.assign(t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status}),t}var H,V=function(){q()&&(void 0===navigator.onLine||navigator.onLine)&&x.forEach((function(e){return e.invalidateQueries((function(e){return!!e.instances.length&&(!!e.instances.some((function(e){return e.config.enabled}))&&(!!e.state.isStale&&(e.shouldContinueRetryOnFocus&&delete e.promise,e.config.refetchOnWindowFocus)))})).catch(l.error)}))};function z(e){H&&H(),H=e(V)}function _(){var r=R(),n=e.useReducer((function(e){return e+1}),1),t=n[0],u=w(n[1]);return e.useEffect((function(){return r.subscribe(u)}),[r,u]),e.useMemo((function(){return t&&r.isFetching}),[r.isFetching,t])}function J(e,r,n){return n?r?r(e):e:(e&&e.then||(e=Promise.resolve(e)),r?e.then(r):e)}z((function(e){var r;if(!s&&(null==(r=window)?void 0:r.addEventListener))return window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),function(){window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}}));var N=function(){return{status:"idle",data:void 0,error:null}};function U(){}var W={};function X(e,r){if(!r)return e&&e.then?e.then(U):Promise.resolve()}var Y={};function Z(e,r){var n=e();return n&&n.then?n.then(r):r(n)}var $={};var ee={};function re(e,r){if(r.type===W)return{status:"idle",data:void 0,error:null};if(r.type===Y)return{status:"loading"};if(r.type===$)return{status:"success",data:r.data};if(r.type===ee)return{status:"error",error:r.error};throw new Error}function ne(n,t){void 0===t&&(t={});var u,i=e.useReducer(re,null,N),o=i[0],a=w(i[1]),s=h(n),d=h(r({},C().shared,C().mutations,t)),v=e.useRef(),y=e.useCallback((u=function(e,r){var n=void 0===r?{}:r,t=n.onSuccess,u=void 0===t?f:t,i=n.onError,o=void 0===i?f:i,h=n.onSettled,y=void 0===h?f:h,p=n.throwOnError,g=d(),m=c();v.current=m;var q,b=function(){return v.current===m};return a({type:Y}),function(e,r){try{var n=e()}catch(e){return r(e)}return n&&n.then?n.then(void 0,r):n}((function(){return J(g.onMutate(e),(function(r){var n;return q=r,Z((function(){if(b())return J(s()(e),(function(e){n=e}))}),(function(){return b()&&a({type:$,data:n}),Z((function(){if(b())return X(g.onSuccess(n,e))}),(function(){return Z((function(){if(b())return X(u(n,e))}),(function(){return Z((function(){if(b())return X(g.onSettled(n,null,e))}),(function(){return Z((function(){if(b())return X(y(n,null,e))}),(function(){return n}))}))}))}))}))}))}),(function(r){return Z((function(){if(b())return l.error(r),X(g.onError(r,e,q))}),(function(){return Z((function(){if(b())return X(o(r,e,q))}),(function(){return Z((function(){if(b())return X(g.onSettled(void 0,r,e,q))}),(function(){return Z((function(){if(b())return X(y(void 0,r,e,q))}),(function(){if(b()&&(a({type:ee,error:r}),null!=p?p:g.throwOnError))throw r}))}))}))}))}))},function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{return Promise.resolve(u.apply(this,e))}catch(e){return Promise.reject(e)}}),[a,d,s]),p=e.useCallback((function(){return a({type:W})}),[a]);return e.useEffect((function(){var e=d(),r=e.suspense,n=e.useErrorBoundary;if((null!=n?n:r)&&o.error)throw o.error}),[d,o.error]),[y,r({},o,{reset:p,isIdle:"idle"===o.status,isLoading:"loading"===o.status,isSuccess:"success"===o.status,isError:"error"===o.status})]}function te(){}function ue(n,t,u){void 0===u&&(u={});var i=w(e.useState()[1]),o=C();u=r({},o.shared,o.queries,u);var c=R().buildQuery(n,t,u),a=e.useRef();e.useEffect((function(){return a.current=c.subscribe((function(){return i({})})),a.current.unsubscribe}),[c,i]),e.useEffect((function(){a.current.updateConfig(u)})),e.useEffect((function(){u.enabled,a.current.run()}),[u.enabled,c]);var s,f=e.useCallback((s=function(){return function(e){if(e&&e.then)return e.then(te)}(function(e,r){try{var n=e()}catch(e){return r(e)}return n&&n.then?n.then(void 0,r):n}((function(){return function(e,r){if(!r)return e&&e.then?e.then(te):Promise.resolve()}(c.fetch())}),(function(e){l.error(e)})))},function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{return Promise.resolve(s.apply(this,e))}catch(e){return Promise.reject(e)}}),[c]);return r({query:c,refetch:f},c.state)}function ie(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var t=ue.apply(void 0,b(r));return S(t),t}function oe(){for(var n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];var i=b(t),o=i[0],c=i[1],a=i[2],s=void 0===a?{}:a,f=e.useRef();void 0!==f.current&&delete s.initialData;var l=ue(o,c,s);l.query.config.enabled||(f.current=void 0);var d=l.data,h=l.status;e.useEffect((function(){"success"===h&&void 0!==d&&(f.current=d)}),[d,h]);var v=d;if(void 0===v&&(v=f.current),void 0!==v){var y={status:"success",isError:!1,isLoading:!1,isSuccess:!0};Object.assign(l.query.state,y),Object.assign(l,y)}var p=r({},l,{resolvedData:v,latestData:d});return S(p),p}function ce(e,r,n){return n?r?r(e):e:(e&&e.then||(e=Promise.resolve(e)),r?e.then(r):e)}function ae(){}function se(e){var r=e();if(r&&r.then)return r.then(ae)}function fe(e,r,n){if(!e.s){if(n instanceof le){if(!n.s)return void(n.o=fe.bind(null,e,r));1&r&&(r=n.s),n=n.v}if(n&&n.then)return void n.then(fe.bind(null,e,r),fe.bind(null,e,2));e.s=r,e.v=n;var t=e.o;t&&t(e)}}var le=function(){function e(){}return e.prototype.then=function(r,n){var t=new e,u=this.s;if(u){var i=1&u?r:n;if(i){try{fe(t,1,i(this.v))}catch(e){fe(t,2,e)}return t}return this}return this.o=function(e){try{var u=e.v;1&e.s?fe(t,1,r?r(u):u):n?fe(t,1,n(u)):fe(t,2,u)}catch(e){fe(t,2,e)}},t},e}();function de(e){return e instanceof le&&1&e.s}function he(e,r){var n;do{var t=e();if(t&&t.then){if(!de(t)){n=!0;break}t=t.v}var u=r();if(de(u)&&(u=u.v),!u)return t}while(!u.then);var i=new le,o=fe.bind(null,i,2);return(n?t.then(c):u.then(a)).then(void 0,o),i;function c(n){for(t=n;de(u=r())&&(u=u.v),u;){if(u.then)return void u.then(a).then(void 0,o);if((t=e())&&t.then){if(!de(t))return void t.then(c).then(void 0,o);t=t.v}}fe(i,1,t)}function a(n){if(n){do{if((t=e())&&t.then){if(!de(t))return void t.then(c).then(void 0,o);t=t.v}if(de(n=r())&&(n=n.v),!n)return void fe(i,1,t)}while(!n.then);n.then(a).then(void 0,o)}else fe(i,1,t)}}function ve(e,r){return e&&e.then?e.then(r):r(e)}function ye(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return Promise.resolve(e.apply(this,r))}catch(e){return Promise.reject(e)}}}function pe(e,r){if(e)throw r;return r}function ge(e,r){try{var n=e()}catch(e){return r(!0,e)}return n&&n.then?n.then(r.bind(null,!1),r.bind(null,!0)):r(!1,n)}function me(){for(var n=e.useRef(),t=arguments.length,u=new Array(t),i=0;i<t;i++)u[i]=arguments[i];var o=b(u),c=o[0],a=o[1],s=o[2],f=void 0===s?{}:s,l=f.getFetchMore,d=h(l),v=a,y=ue(c,a=ye((function(){var e=!1,r=[],t=[].concat(n.current.query.pageVariables),u=[];return ve(he((function(){var n=t.shift();return se((function(){if(r.length){var t=d()(r[r.length-1],r);if(!t)return void(e=!0);var i=[].concat(n.slice(0,-1),[t]),o=r.push;return ce(v.apply(void 0,i),(function(e){o.call(r,e),u.push(i)}))}var c=r.push;return ce(v.apply(void 0,n),(function(e){c.call(r,e),u.push(n)}))}))}),(function(){return!e&&!!t.length})),(function(){return n.current.query.canFetchMore=d()(r[r.length-1],r),n.current.query.pageVariables=u,r}))})),f);void 0===y.query.canFetchMore&&void 0!==y.data&&(y.query.canFetchMore=d()(y.data[y.data.length-1],y.data)),n.current=y;var p=y.data,g=void 0===p?[]:p,m=y.query.canFetchMore;y.query.pageVariables||(y.query.pageVariables=[[].concat(y.query.queryKey)]);var q=e.useCallback((function(e,t){void 0===e&&(e=n.current.query.canFetchMore);var u=(void 0===t?{}:t).previous,i=void 0!==u&&u;return n.current.query.canFetchMore?n.current.query.fetch({__queryFn:ye((function(){for(var t=arguments.length,u=new Array(t),o=0;o<t;o++)u[o]=arguments[o];return ge((function(){n.current.query.setState((function(e){return r({},e,{isFetchingMore:i?"previous":"next"})}));var t=i?[e].concat(u):[].concat(u,[e]);return n.current.query.pageVariables[i?"unshift":"push"](t),ce(v.apply(void 0,t),(function(e){var r=i?[e].concat(n.current.data):[].concat(n.current.data,[e]);return n.current.query.canFetchMore=d()(e,r),r}))}),(function(e,t){return n.current.query.setState((function(e){return r({},e,{isFetchingMore:!1})})),pe(e,t)}))}))}):void 0}),[d,v]);return S(y),r({},y,{data:g,canFetchMore:m,fetchMore:q})}export{L as ReactQueryCacheProvider,I as ReactQueryConfigProvider,m as deepIncludes,B as makeQueryCache,A as queryCache,x as queryCaches,d as setConsole,z as setFocusHandler,p as stableStringify,u as statusError,n as statusIdle,t as statusLoading,i as statusSuccess,me as useInfiniteQuery,_ as useIsFetching,ne as useMutation,oe as usePaginatedQuery,ie as useQuery,R as useQueryCache};
//# sourceMappingURL=react-query.min.mjs.map
