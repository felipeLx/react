{"ast":null,"code":"var _jsxFileName = \"/home/felipelx/Desktop/workspace/react/projectbe/src/components/search/searchBar.js\",\n    _s = $RefreshSig$();\n\n/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport * as React from 'react';\nimport Tooltip from '@reach/tooltip';\nimport { FaSearch, FaTimes } from 'react-icons/fa';\nimport { Input, SongListUL, Spinner } from '../lib';\nimport { SongRow } from '../song-row';\nimport { client } from '../../utils/api-client';\nimport * as colors from '../../styles/colors';\nimport { useAsync } from '../../utils/hooks';\n\nfunction DiscoverSongOrArtistScreen() {\n  _s();\n\n  var _data$songs;\n\n  const {\n    data,\n    error,\n    run,\n    isLoading,\n    isSuccess,\n    isError\n  } = useAsync();\n  const [query, setQuery] = React.useState();\n  const [queried, setQueried] = React.useState(false);\n  React.useEffect(() => {\n    if (!queried) {\n      return;\n    }\n\n    run(client(`search?q=${encodeURIComponent(query)}`));\n  }, [query, queried, run]);\n\n  function handleSearchSubmit(event) {\n    event.preventDefault();\n    setQueried(true);\n    setQuery(event.target.elements.search.value);\n  }\n\n  return jsx(\"div\", {\n    css: {\n      maxWidth: 800,\n      margin: 'auto',\n      width: '90vw',\n      padding: '40px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, jsx(\"form\", {\n    onSubmit: handleSearchSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, jsx(Input, {\n    placeholder: \"Search songs or artists...\",\n    id: \"search\",\n    css: {\n      width: '100%'\n    },\n    \"genius-api-path-input-type\": \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), jsx(Tooltip, {\n    label: \"Search Songs or Artists\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, jsx(\"label\", {\n    htmlFor: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, jsx(\"button\", {\n    type: \"submit\",\n    css: {\n      border: '0',\n      position: 'relative',\n      marginLeft: '-35px',\n      background: 'transparent'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, isLoading ? jsx(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }) : isError ? jsx(FaTimes, {\n    \"aria-label\": \"error\",\n    css: {\n      color: colors.danger\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }) : jsx(FaSearch, {\n    \"aria-label\": \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }))))), isError ? jsx(\"div\", {\n    css: {\n      color: colors.danger\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"There was an error:\"), jsx(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, error.message)) : null, isSuccess ? (data === null || data === void 0 ? void 0 : (_data$songs = data.songs) === null || _data$songs === void 0 ? void 0 : _data$songs.length) ? jsx(SongListUL, {\n    css: {\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, data.songs.map(song => jsx(\"li\", {\n    key: song.id,\n    \"aria-label\": song.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, jsx(SongRow, {\n    key: song.id,\n    song: song,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  })))) : jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"No songs found. Try another search.\") : null);\n}\n\n_s(DiscoverSongOrArtistScreen, \"6eTb+1vv6827m/9NXjF8O62zfIw=\", false, function () {\n  return [useAsync];\n});\n\n_c = DiscoverSongOrArtistScreen;\nexport { DiscoverSongOrArtistScreen };\n\nvar _c;\n\n$RefreshReg$(_c, \"DiscoverSongOrArtistScreen\");","map":{"version":3,"sources":["/home/felipelx/Desktop/workspace/react/projectbe/src/components/search/searchBar.js"],"names":["jsx","React","Tooltip","FaSearch","FaTimes","Input","SongListUL","Spinner","SongRow","client","colors","useAsync","DiscoverSongOrArtistScreen","data","error","run","isLoading","isSuccess","isError","query","setQuery","useState","queried","setQueried","useEffect","encodeURIComponent","handleSearchSubmit","event","preventDefault","target","elements","search","value","maxWidth","margin","width","padding","border","position","marginLeft","background","color","danger","message","songs","length","marginTop","map","song","id","title"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport * as React from 'react'\nimport Tooltip from '@reach/tooltip'\nimport {FaSearch, FaTimes} from 'react-icons/fa'\nimport {Input, SongListUL, Spinner} from '../lib'\nimport {SongRow} from '../song-row'\nimport {client} from '../../utils/api-client'\nimport * as colors from '../../styles/colors'\nimport { useAsync } from '../../utils/hooks'\n\nfunction DiscoverSongOrArtistScreen() {\n  const {data, error, run, isLoading, isSuccess, isError} = useAsync()\n  const [query, setQuery] = React.useState()\n  const [queried, setQueried] = React.useState(false)\n\n  React.useEffect(() => {\n    if (!queried) {\n      return\n    }\n    run(client(`search?q=${encodeURIComponent(query)}`))\n  }, [query, queried, run])\n\n  function handleSearchSubmit(event) {\n    event.preventDefault()\n    setQueried(true)\n    setQuery(event.target.elements.search.value)\n  }\n\n  return (\n    <div\n      css={{maxWidth: 800, margin: 'auto', width: '90vw', padding: '40px 0'}}\n    >\n      <form onSubmit={handleSearchSubmit}>\n        <Input\n          placeholder=\"Search songs or artists...\"\n          id=\"search\"\n          css={{width: '100%'}}\n          genius-api-path-input-type='text'\n        />\n        <Tooltip label=\"Search Songs or Artists\">\n          <label htmlFor=\"search\">\n            <button\n              type=\"submit\"\n              css={{\n                border: '0',\n                position: 'relative',\n                marginLeft: '-35px',\n                background: 'transparent',\n              }}\n            >\n              {isLoading ? (\n                <Spinner />\n              ) : isError ? (\n                <FaTimes aria-label=\"error\" css={{color: colors.danger}} />\n              ) : (\n                <FaSearch aria-label=\"search\" />\n              )}\n            </button>\n          </label>\n        </Tooltip>\n      </form>\n\n      {isError ? (\n        <div css={{color: colors.danger}}>\n          <p>There was an error:</p>\n          <pre>{error.message}</pre>\n        </div>\n      ) : null}\n\n      {isSuccess ? (\n        data?.songs?.length ? (\n          <SongListUL css={{marginTop: 20}}>\n            {data.songs.map(song => (\n              <li key={song.id} aria-label={song.title}>\n                <SongRow key={song.id} song={song} />\n              </li>\n            ))}\n          </SongListUL>\n        ) : (\n          <p>No songs found. Try another search.</p>\n        )\n      ) : null}\n    </div>\n  )\n}\n\nexport {DiscoverSongOrArtistScreen}\n"]},"metadata":{},"sourceType":"module"}