{"version":3,"sources":["../node_modules/prop-types/index.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/@reach/visually-hidden/dist/reach-visually-hidden.esm.js","components/modal.js","components/logo.js","unauthenticated-app.js"],"names":["module","exports","require","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_excluded","VisuallyHidden","forwardRef","_ref","ref","_ref$as","as","Comp","_ref$style","style","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","createElement","border","clip","height","margin","overflow","padding","position","width","whiteSpace","wordWrap","callAll","fns","args","forEach","fn","ModalContext","React","Modal","isOpen","setIsOpen","Provider","value","ModalDismissButton","child","children","onClick","ModalOpenButton","ModalContentsBase","onDismiss","ModalContents","title","className","Logo","viewBox","xmlns","d","fill","LoginForm","onSubmit","submitButton","useAsync","isLoading","isError","error","run","handleSubmit","event","preventDefault","elements","username","password","htmlFor","id","type","Array","isArray","UnauthenticatedApp","useAuth","login","register","variant"],"mappings":"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","file":"static/js/4.8617634d.chunk.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import { forwardRef, createElement } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"as\", \"style\"];\n\n/**\n * VisuallyHidden\n *\n * Provides text for screen readers that is visually hidden.\n * It is the logical opposite of the `aria-hidden` attribute.\n */\nvar VisuallyHidden = /*#__PURE__*/forwardRef(function VisuallyHidden(_ref, ref) {\n  var _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"span\" : _ref$as,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return /*#__PURE__*/createElement(Comp, _extends({\n    ref: ref,\n    style: _extends({\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: \"1px\",\n      margin: \"-1px\",\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      width: \"1px\",\n      // https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n      whiteSpace: \"nowrap\",\n      wordWrap: \"normal\"\n    }, style)\n  }, props));\n});\n/**\n * @see Docs https://reach.tech/visually-hidden#visuallyhidden-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  VisuallyHidden.displayName = \"VisuallyHidden\";\n  VisuallyHidden.propTypes = {\n    as: PropTypes.any,\n    children: PropTypes.node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport default VisuallyHidden;\nexport { VisuallyHidden };\n","\nimport * as React from 'react'\nimport VisuallyHidden from '@reach/visually-hidden'\nimport {Dialog, CircleButton} from './lib'\n\nconst callAll =\n  (...fns) =>\n  (...args) =>\n    fns.forEach(fn => fn && fn(...args))\n\nconst ModalContext = React.createContext()\n\nfunction Modal(props) {\n  const [isOpen, setIsOpen] = React.useState(false)\n\n  return <ModalContext.Provider value={[isOpen, setIsOpen]} {...props} />\n}\n\nfunction ModalDismissButton({children: child}) {\n  const [, setIsOpen] = React.useContext(ModalContext)\n  return React.cloneElement(child, {\n    onClick: callAll(() => setIsOpen(false), child.props.onClick),\n  })\n}\n\nfunction ModalOpenButton({children: child}) {\n  const [, setIsOpen] = React.useContext(ModalContext)\n  return React.cloneElement(child, {\n    onClick: callAll(() => setIsOpen(true), child.props.onClick),\n  })\n}\n\nfunction ModalContentsBase(props) {\n  const [isOpen, setIsOpen] = React.useContext(ModalContext)\n  return (\n    <Dialog isOpen={isOpen} onDismiss={() => setIsOpen(false)} {...props} />\n  )\n}\n\nfunction ModalContents({title, children, ...props}) {\n  return (\n    <ModalContentsBase {...props}>\n      <div className=\"flex justify-end\">\n        <ModalDismissButton>\n          <CircleButton>\n            <VisuallyHidden>Close</VisuallyHidden>\n            <span aria-hidden>×</span>\n          </CircleButton>\n        </ModalDismissButton>\n      </div>\n      <h3 className=\"text-center font-2\">{title}</h3>\n      {children}\n    </ModalContentsBase>\n  )\n}\n\nexport {Modal, ModalDismissButton, ModalOpenButton, ModalContents}\n","import * as React from 'react'\n\nconst Logo = ({width = '48', height = '48'}) => {\n  return (\n    <svg\n      width={`${width}px`}\n      height={`${height}px`}\n      viewBox={`0 0 48 48`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <title>Bookshelf</title>\n      <g>\n        <path\n          d=\"M12,5H2C1.44772,5,1,5.44772,1,6v27h12V6C13,5.44772,12.55229,5,12,5z\"\n          fill=\"#E86C60\"\n        />\n        <path\n          d=\"M12,43H2c-0.55228,0-1-0.44772-1-1V32h12v10C13,42.55228,12.55229,43,12,43z\"\n          fill=\"#444444\"\n        />\n        <path\n          d=\"M8,23H6c-0.55228,0-1-0.44772-1-1V11c0-0.55229,0.44772-1,1-1h2c0.55229,0,1,0.44771,1,1v11 C9,22.55228,8.55229,23,8,23z\"\n          fill=\"#FFFFFF\"\n        />\n        <path\n          d=\"M35.44301,3.67613l-9.68988,2.47109c-0.53516,0.13647-0.85835,0.68094-0.72188,1.2161l6.67194,26.16267 l11.62785-2.96531L36.6591,4.398C36.52263,3.86285,35.97816,3.53965,35.44301,3.67613z\"\n          fill=\"#43A6DD\"\n        />\n        <path\n          d=\"M44.83315,40.49766l-9.68988,2.47109c-0.53516,0.13647-1.07962-0.18672-1.21609-0.72188l-2.47109-9.68988 l11.62785-2.96531l2.47109,9.68987C45.69151,39.81672,45.36831,40.36118,44.83315,40.49766z\"\n          fill=\"#444444\"\n        />\n        <path\n          d=\"M36.01502,22.10634l-1.93797,0.49422c-0.53516,0.13647-1.07962-0.18672-1.2161-0.72188l-2.7182-10.65886 c-0.13647-0.53516,0.18672-1.07962,0.72188-1.2161L32.8026,9.5095c0.53516-0.13647,1.07962,0.18672,1.2161,0.72188l2.7182,10.65886 C36.87337,21.4254,36.55017,21.96987,36.01502,22.10634z\"\n          fill=\"#FFFFFF\"\n        />\n        <path\n          d=\"M24,5H14c-0.55229,0-1,0.44772-1,1v27h12V6C25,5.44772,24.55228,5,24,5z\"\n          fill=\"#E6E6E6\"\n        />\n        <path\n          d=\"M24,43H14c-0.55229,0-1-0.44772-1-1V32h12v10C25,42.55228,24.55228,43,24,43z\"\n          fill=\"#B3B3B3\"\n        />\n        <path\n          d=\"M20,23h-2c-0.55228,0-1-0.44772-1-1V11c0-0.55229,0.44772-1,1-1h2c0.55228,0,1,0.44771,1,1v11 C21,22.55228,20.55228,23,20,23z\"\n          fill=\"#FFFFFF\"\n        />\n      </g>\n    </svg>\n  )\n}\n\nexport {Logo}\n","\nimport * as React from 'react'\nimport {Input, Button, Spinner, FormGroup, ErrorMessage} from './components/lib'\nimport {Modal, ModalContents, ModalOpenButton} from './components/modal'\nimport {Logo} from './components/logo'\nimport {useAuth} from './context/auth-context'\nimport {useAsync} from './utils/hooks'\n\nfunction LoginForm({onSubmit, submitButton}) {\n  const {isLoading, isError, error, run} = useAsync()\n  function handleSubmit(event) {\n    event.preventDefault()\n    const {username, password} = event.target.elements\n\n    run(\n      onSubmit({\n        username: username.value,\n        password: password.value,\n      }),\n    )\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\n    >\n      <FormGroup>\n        <label \n          htmlFor=\"username\"\n          className=\"block text-gray-700 text-sm font-bold mb-2\"\n        >\n          Username\n        </label>\n        <Input id=\"username\" />\n      </FormGroup>\n      <FormGroup>\n        <label \n          htmlFor=\"password\"\n          className=\"block text-gray-700 text-sm font-bold mb-2\"\n        >\n          Password\n        </label>\n        <Input id=\"password\" type=\"password\" />\n      </FormGroup>\n      <div>\n        {React.cloneElement(\n          submitButton,\n          {type: 'submit'},\n          ...(Array.isArray(submitButton.props.children)\n            ? submitButton.props.children\n            : [submitButton.props.children]),\n          isLoading ? <Spinner /> : null,\n        )}\n      </div>\n      {isError ? <ErrorMessage error={error} /> : null}\n    </form>\n  )\n}\n\nfunction UnauthenticatedApp() {\n  const {login, register} = useAuth()\n  return (\n    <div\n      className=\"flex flex-col items-center justify-center w-full h-8\"\n    >\n      <Logo className=\"w-20 h-20\" />\n      <h1>Bookshelf</h1>\n      <div\n        className=\"grid grid-cols-2\"\n      >\n        <Modal>\n          <ModalOpenButton>\n            <Button variant=\"primary\">Login</Button>\n          </ModalOpenButton>\n          <ModalContents aria-label=\"Login form\" title=\"Login\">\n            <LoginForm\n              onSubmit={login}\n              submitButton={<Button variant=\"primary\">Login</Button>}\n            />\n          </ModalContents>\n        </Modal>\n        <Modal>\n          <ModalOpenButton>\n            <Button variant=\"secondary\">Register</Button>\n          </ModalOpenButton>\n          <ModalContents aria-label=\"Registration form\" title=\"Register\">\n            <LoginForm\n              onSubmit={register}\n              submitButton={<Button variant=\"secondary\">Register</Button>}\n            />\n          </ModalContents>\n        </Modal>\n      </div>\n    </div>\n  )\n}\n\nexport default UnauthenticatedApp\n"],"sourceRoot":""}